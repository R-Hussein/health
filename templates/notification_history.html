{% extends "base.html" %}

{% block title %}Notification History - {{ client.name }}{% endblock %}

{% block content %}
<h2>Notification History for {{ client.name }}</h2>
<a href="{{ url_for('client_detail', client_id=client.id) }}" class="btn btn-secondary">
    Back to Client Details
</a>

<div class="section">
    <table class="notification-table">
        <tr>
            <th>Date/Time</th>
            <th>Urgency</th>
            <th>Message</th>
            <th>User</th>
        </tr>
        {% for note in notifications %}
        <tr class="notification {{ note.urgency }}">
            <td>{{ note.date_time.strftime('%Y-%m-%d %H:%M') }}</td>
            <td>{{ note.urgency|replace('_', ' ') }}</td>
            <td>{{ note.note }}</td>
            <td>{{ note.user_name }}</td>
        </tr>
        {% endfor %}
    </table>
</div>

<style>
.notification-table {
    width: 100%;
    border-collapse: collapse;
    margin-top: 20px;
}
.notification-table th {
    background-color: #f2f2f2;
    padding: 12px;
    text-align: left;
}
.notification-table td {
    padding: 12px;
    border-bottom: 1px solid #ddd;
}
.notification.normal { background-color: #e8f5e9; }
.notification.urgent { background-color: #fff8e1; }
.notification.very_urgent { background-color: #ffe0b2; }
.notification.critical { background-color: #ffcdd2; }
</style>
{% endblock %}